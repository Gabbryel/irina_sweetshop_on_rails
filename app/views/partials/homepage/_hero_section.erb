<% hero = HeroSection.first %>
<% if hero.present? %>
  <div class="hero-section-new" style="<%= hero.background_image_url.present? ? "background-image: url('#{hero.background_image_url}');" : '' %>">
    <div class="hero-section-new__overlay"></div>
    
    <div class="hero-section-new__content">
      <h1 class="hero-section-new__title" data-aos="fade-up" data-aos-duration="800">
        <%= hero.title %>
      </h1>
      <p class="hero-section-new__subtitle" data-aos="fade-up" data-aos-duration="800" data-aos-delay="100">
        <%= hero.subtitle %>
      </p>
      <%= link_to hero.button_text, hero.button_link, class: 'hero-section-new__cta', data: { aos: "fade-up", aos_duration: "800", aos_delay: "200" } %>
    </div>
    
    <div class="hero-section-new__chocolate-drip">
      <svg viewBox="0 0 1440 100" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="chocolateGradient" x1="0%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" style="stop-color:<%= hero.chocolate_color || '#3d2817' %>;stop-opacity:1" />
            <stop offset="100%" style="stop-color:<%= hero.chocolate_color || '#3d2817' %>;stop-opacity:0.95" />
          </linearGradient>
        </defs>
        
        <!-- Main chocolate drip path with organic, irregular drips -->
        <path 
          fill="url(#chocolateGradient)"
          d="M0,0 L0,30 
             Q60,45 120,30 T240,30 
             L240,60 Q250,70 260,60 L260,30
             Q300,50 360,30 
             L360,80 Q370,90 380,80 L380,30
             T480,30 
             L480,50 Q490,60 500,50 L500,30
             Q540,45 600,30 
             L600,70 Q610,80 620,70 L620,30
             T720,30 
             L720,55 Q730,65 740,55 L740,30
             Q780,50 840,30 
             L840,75 Q850,85 860,75 L860,30
             T960,30 
             L960,45 Q970,55 980,45 L980,30
             Q1020,50 1080,30 
             L1080,65 Q1090,75 1100,65 L1100,30
             T1200,30 
             L1200,50 Q1210,60 1220,50 L1220,30
             Q1260,45 1320,30 
             L1320,70 Q1330,80 1340,70 L1340,30
             T1440,30 
             L1440,0 Z"
        />
        
        <!-- Additional dripping details for more organic feel -->
        <ellipse cx="150" cy="65" rx="8" ry="12" fill="<%= hero.chocolate_color || '#3d2817' %>" opacity="0.9"/>
        <ellipse cx="410" cy="85" rx="6" ry="10" fill="<%= hero.chocolate_color || '#3d2817' %>" opacity="0.9"/>
        <ellipse cx="650" cy="75" rx="7" ry="11" fill="<%= hero.chocolate_color || '#3d2817' %>" opacity="0.9"/>
        <ellipse cx="890" cy="80" rx="6" ry="10" fill="<%= hero.chocolate_color || '#3d2817' %>" opacity="0.9"/>
        <ellipse cx="1130" cy="70" rx="7" ry="12" fill="<%= hero.chocolate_color || '#3d2817' %>" opacity="0.9"/>
      </svg>
    </div>
  </div>
<% else %>
  <!-- Fallback if no hero section configured -->
  <div class="hero-section-new hero-section-new--fallback">
    <div class="hero-section-new__overlay"></div>
    <div class="hero-section-new__content">
      <h1 class="hero-section-new__title">Cofetăria Irina</h1>
      <p class="hero-section-new__subtitle">Deserturi proaspete în fiecare zi</p>
      <%= link_to 'Vezi produsele', categories_path, class: 'hero-section-new__cta' %>
    </div>
    <div class="hero-section-new__chocolate-drip">
      <svg viewBox="0 0 1440 100" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
        <path 
          fill="#3d2817"
          d="M0,0 L0,30 Q60,45 120,30 T240,30 L240,60 Q250,70 260,60 L260,30 Q300,50 360,30 L360,80 Q370,90 380,80 L380,30 T480,30 L480,50 Q490,60 500,50 L500,30 Q540,45 600,30 L600,70 Q610,80 620,70 L620,30 T720,30 L720,55 Q730,65 740,55 L740,30 Q780,50 840,30 L840,75 Q850,85 860,75 L860,30 T960,30 L960,45 Q970,55 980,45 L980,30 Q1020,50 1080,30 L1080,65 Q1090,75 1100,65 L1100,30 T1200,30 L1200,50 Q1210,60 1220,50 L1220,30 Q1260,45 1320,30 L1320,70 Q1330,80 1340,70 L1340,30 T1440,30 L1440,0 Z"
        />
      </svg>
    </div>
  </div>
<% end %>
